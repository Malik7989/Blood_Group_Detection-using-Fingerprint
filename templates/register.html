<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Patient Registration Form</title>
  <link rel="stylesheet" href="/static/css/reigister.css">
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/reigister.css') }}">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css"
    integrity="sha384-1ZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9s+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">
    <script src="{{ url_for('static', filename='js/register.js') }}" type="text/javascript"></script>

</head>

<body>
  <div class="wrapper">
    <div class="title">Person Registration Form</div>
    
    <form action="POST" data-netlify="true">
      <div class="form">
        <fieldset>
            <legend>Personal details</legend>
        
        <div class="inputfield">
          <label>First Name</label>
          <input type="text" class="input" id="name" name="fname" placeholder="Enter first name" maxlength="30"
            pattern="[A-Za-z]{1,32}" title="Enter only alphabets" required>
        </div>

        <div class="inputfield">
          <label>Last Name</label>
          <input type="text" class="input" id="name" name="lname" placeholder="Enter last name" maxlength="30"
            pattern="[A-Za-z]{1,32}" title="Enter only alphabets" required>
        </div>

        <div class="inputfield" id="gender">
          <label for="">Gender</label>
          <input type="radio" name="gender" id="radio" value="Male">Male
          <input type="radio" name="gender" id="radio" value="Female">Female
        </div>

        <div class="inputfield">
          <label for="">Age</label>
          <input type="text" class="input" name="age" placeholder="Enter your age" maxlength="2" pattern="^[0-9]{2}$"
            required placeholder="Enter your age" title="Enter numbers only">
        </div>

        <div class="inputfield">
          <label for="">Date of Birth</label>
          <input type="date" class="input" name="dob" required>
        </div>

        <div class="inputfield">
          <label>Email Address</label>
          <input type="email" class="input" name="email" placeholder="Enter your email"
            pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,63}$" required>
        </div>
        
        <fieldset>
          <legend>OTP Verification</legend>

          <div class="inputfield">
            <label>Enter OTP</label>
            <input type="text" class="input" id="otp" name="otp" placeholder="Enter the OTP sent to your phone" 
              maxlength="6" pattern="^[0-9]{6}$" title="Enter the 6-digit OTP" required>
          </div>

          <div class="inputfield btns">
            <button type="button" class="btn" onclick="sendOTP()">Verify OTP</button>
          </div>

          <!-- <div class="inputfield">
            <label>Confirm OTP</label>
            <input type="text" class="input" id="confirm-otp" name="confirm_otp" placeholder="Re-enter OTP to confirm" 
              maxlength="6" pattern="^[0-9]{6}$" title="Re-enter the 6-digit OTP" required>
          </div> -->
        </fieldset>
        <div class="inputfield">
          <label for="">Phone Number</label>
          <div class="custom-select" id="phone-codes">
            <select id="phone-code">
              <option value="+91">+91</option>
            </select>
          </div>
          <input type="tel" class="input" name="phone-number" maxlength="10" id="phone-number"
            placeholder="Enter your phone number" pattern="[7-9]{1}[0-9]{9}" title="Please enter valid phone number">
        </div>

        <div class="inputfield">
          <label>Address</label>
          <textarea class="textarea" name="address" id="" cols="30" rows="5" placeholder="Enter your address"
            maxlength="100" required></textarea>
        </div>

        <div class="inputfield">
          <label>State</label>
          <div class="custom_select">
            <select id="state" name="state" required>
              <option value="">--Select your state--</option>
              <option value="Andhra Pradesh">Andhra Pradesh</option>
              <option value="Maharashtra">Maharashtra</option>
              <option value="Delhi">Delhi</option>
              <!-- Add other states as required -->
            </select>
          </div>
        </div>

        <div class="inputfield">
          <label>Pin Code</label>
          <input type="text" class="input" name="pincode" placeholder="Enter your pin code" maxlength="6"
            pattern="^[0-9]{6}$" required>
        </div>

        <div class="inputfield">
            <label for="aadhar">Aadhaar Number</label>
            <input type="text" class="input" name="aadhar" id="aadhar" placeholder="Enter your Aadhaar number" 
                pattern="\d{12}" maxlength="12" required title="Aadhaar number must be 12 digits" />
        </div>

        <div class="inputfield">
          <label>Upload Photo</label><p id="file-size">*Max size 100kb.</p>
          <input type="file" name="myfile" id="myfile" placeholder="Upload your photo" rows="7" required />
        </div>
        </fieldset>

        <!-- New Clinical Details Section -->
        <fieldset>
          <legend>Clinical Details</legend>
          <div class="inputfield">
            <label>Blood Group</label>
            <div class="custom_select">
              <select name="Blood_group" required>
                <option value="">--Select--</option>
                <option value="O+">O+</option>
                <option value="O-">O-</option>
                <option value="AB+">AB+</option>
                <option value="AB-">AB-</option>
                <option value="B+">B+</option>
                <option value="B-">B-</option>
                <option value="A+">A+</option>
                <option value="A-">A-</option>
              </select>
            </div>
          </div>
          <div class="inputfield">
            <label>RBC Count (in millions/µL)</label>
            <input type="text" class="input" name="rbc" placeholder="Enter RBC count" pattern="^\d+(\.\d{1,2})?$" 
              title="Enter a valid RBC count (e.g., 4.5)" required>
          </div>
          
          <div class="inputfield">
            <label>WBC Count (per µL)</label>
            <input type="text" class="input" name="wbc" placeholder="Enter WBC count" pattern="^\d{4,6}$" 
              title="Enter a valid WBC count (e.g., 6000)" required>
          </div>
          
          <div class="inputfield">
            <label>Glucose Level (mg/dL)</label>
            <input type="text" class="input" name="glucose" placeholder="Enter glucose level" 
              pattern="^\d{2,3}$" title="Enter a valid glucose level (e.g., 90)" required>
          </div>

          <div class="inputfield">
            <label>Blood Pressure (mm Hg)</label>
            <input type="text" class="input" name="bp" placeholder="Enter BP (e.g., 120/80)" 
              pattern="^\d{2,3}\/\d{2,3}$" title="Enter a valid BP (e.g., 120/80)" required>
          </div>

          <div class="inputfield">
            <label>HbA1c (%)</label>
            <input type="text" class="input" name="hba1c" placeholder="Enter HbA1c level" 
              pattern="^\d{1,2}(\.\d{1,2})?$" title="Enter a valid HbA1c level (e.g., 5.5)" required>
          </div>

          <div class="inputfield">
            <label>HIV Test Result</label>
            <div class="custom_select">
              <select name="hiv_test" required>
                <option value="">--Select--</option>
                <option value="Negative">Negative</option>
                <option value="Positive">Positive</option>
              </select>
            </div>
          </div>

          <div class="inputfield">
            <label>Other Clinical Details</label>
            <textarea class="textarea" name="other_clinical" placeholder="Enter other clinical details" rows="3"></textarea>
          </div>

          <div class="inputfield">
            <label>Upload Lab Report (PDF/Image)</label>
            <input type="file" name="lab_report" accept=".pdf, .jpg, .jpeg, .png" required>
          </div>
        </fieldset>
        <div class="inputfield">
            <label>Upload Thumb (Image)</label>
            <input type="file" name="lab_report" accept=" .jpg, .jpeg, .png" required>
          </div>
        </fieldset>

        <div class="inputfield terms">
          <label class="check">
            <input type="checkbox" name="check" value="Declared" required>
            <span class="checkmark"></span>
          </label>
          <p>I hereby declare that the above information provided is true and correct.</p>
        </div>

        <div class="inputfield" required>
          <div data-netlify-recaptcha="true"></div>
        </div>

        <div class="inputfield btns" id="btn">
          <button type="submit" value="Register" class="btn" onclick="checkPassword()">Register</button>
          <button type="reset" value="Reset" class="btn">Reset</button>
        </div>

      </div>
    </form>
  </div>
  <script>
    function sendOTP() {
      // Implement the logic to send the OTP to the user's phone or email.
      // This can be done using server-side API calls to send the OTP.
      alert("OTP has been sent to your phone/email.");
    }

    function verifyOTP() {
      const otp = document.getElementById('otp').value;
      const confirmOtp = document.getElementById('confirm-otp').value;

      if (otp === confirmOtp) {
        alert("OTP verified successfully.");
        // Continue with form submission
      } else {
        alert("OTP does not match. Please try again.");
        event.preventDefault();  // Prevent form submission
      }
    }
  </script>
</body>

</html>
